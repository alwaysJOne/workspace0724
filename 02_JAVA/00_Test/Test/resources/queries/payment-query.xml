<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
  <entry key="insertPayment">
    INSERT INTO PAYMENT(PAYMENT_ID, ORDER_ID, AMOUNT, STATUS, APPROVAL_CODE, PAY_AT, REFUND_AT)
    VALUES(?, ?, ?, ?, ?, SYSDATE, NULL)
  </entry>

  <entry key="selectPaymentByOrderId">
    SELECT PAYMENT_ID, ORDER_ID, AMOUNT, STATUS, APPROVAL_CODE, PAY_AT, REFUND_AT
    FROM PAYMENT
    WHERE ORDER_ID = ?
  </entry>

  <entry key="refundPayment">
    UPDATE PAYMENT
    SET STATUS = 'REFUNDED', REFUND_AT = SYSDATE
    WHERE ORDER_ID = ? AND APPROVAL_CODE = ? AND STATUS = 'APPROVED'
  </entry>

  <entry key="updatePaymentStatus">
    UPDATE PAYMENT SET STATUS = ?, REFUND_AT = SYSDATE WHERE ORDER_ID = ?
  </entry>
</properties>
