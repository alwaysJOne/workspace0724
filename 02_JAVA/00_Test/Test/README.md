# 무인편의점 키오스크 시스템

Java로 구현된 무인편의점 키오스크 프로그램입니다.

## 기능

### 1. 상품 관리
- 상품 등록 (바코드, 이름, 카테고리, 가격, 유통기한 등)
- 상품 정보 수정 (이름, 카테고리, 가격, 판매여부)
- 재고 추가 (입고 처리)
- 상품 목록 조회

### 2. 주문하기
- 회원 확인/신규 가입
- 상품 선택 및 수량 입력 (장바구니)
- 결제 처리 (승인/실패 시뮬레이션)
- 재고 자동 차감
- 포인트 적립 (결제 금액의 1%)
- 영수증 출력

### 3. 주문 취소(환불)
- 승인번호 기반 환불 처리
- 재고 복구
- 포인트 회수

### 4. 포인트 조회
- 회원별 포인트 잔액 확인
- 포인트 적립/차감 이력 조회

## 데이터베이스 설정

1. Oracle 데이터베이스에 스키마 생성 (제공된 DDL 스크립트 실행)
2. 시퀀스 생성
3. 샘플 데이터 입력 (resources/sample-data.sql)

## 실행 방법

1. `resources/driver.properties` 파일에서 데이터베이스 연결 정보 확인
2. `com.kh.kiosk.run.Run` 클래스의 main 메서드 실행

## 프로젝트 구조

```
src/com/kh/kiosk/
├── common/          # 공통 유틸리티 (JDBC Template)
├── controller/      # 컨트롤러 레이어
├── model/
│   ├── dao/        # 데이터 액세스 레이어
│   └── vo/         # Value Object (모델 클래스)
├── service/        # 비즈니스 로직 레이어
├── view/           # 프레젠테이션 레이어 (콘솔 UI)
└── run/           # 메인 실행 클래스

resources/
├── driver.properties    # DB 연결 설정
├── query/              # SQL 쿼리 XML 파일들
├── sample-data.sql     # 테스트용 샘플 데이터
```

## 사용 예시

1. **상품 등록**: 새로운 상품을 시스템에 등록
2. **재고 추가**: 기존 상품의 재고 수량 증가
3. **주문 프로세스**: 
   - 전화번호로 회원 확인 (없으면 신규 가입)
   - 상품 ID와 수량으로 장바구니 구성
   - 결제 승인 시 재고 차감 및 포인트 적립
4. **환불**: 주문번호와 승인번호로 환불 처리
5. **포인트 조회**: 전화번호로 포인트 잔액 및 이력 확인

## 데이터베이스 스키마

- **MEMBER**: 회원 정보 (이름, 전화번호, 포인트 잔액)
- **PRODUCT**: 상품 정보 (이름, 가격, 재고, 유통기한)
- **ORDERS**: 주문 헤더 (주문자, 주문일시, 상태, 총액)
- **ORDER_ITEM**: 주문 상세 (상품, 수량, 단가)
- **PAYMENT**: 결제 정보 (승인번호, 상태, 환불일시)
- **POINT_HISTORY**: 포인트 적립/차감 이력